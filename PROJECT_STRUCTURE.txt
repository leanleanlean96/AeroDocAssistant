📁 Aviation Technical Documentation Assistant - Структура проекта
═══════════════════════════════════════════════════════════════════════

hakaton_fastapi/
│
├── 📄 README.md                          # Основная документация
├── 📄 DEPLOYMENT.md                      # Инструкции по развертыванию
├── 📄 ARCHITECTURE.md                    # Архитектура системы
├── 📄 requirements.txt                   # Python зависимости
├── 📄 .env.example                       # Шаблон конфигурации
├── 📄 .gitignore                         # Git ignore правила
│
├── 🚀 Запуск и тестирование
│   ├── run.bat                           # Скрипт запуска (Windows)
│   ├── run.sh                            # Скрипт запуска (Linux/macOS)
│   ├── quickstart.py                     # Интерактивный快速 стартер
│   ├── examples.py                       # Примеры использования API
│   ├── init_db.py                        # Инициализация БД примерами
│   ├── test_api.py                       # Юнит-тесты
│   └── postman_collection.json           # Postman коллекция для тестирования
│
├── 🐳 Docker
│   ├── Dockerfile                        # Docker образ
│   └── docker-compose.yml                # Docker Compose конфигурация
│
├── src/
│   │
│   ├── __init__.py                       # Пакет инициализация
│   ├── main.py                           # Точка входа FastAPI приложения
│   ├── config.py                         # Конфигурация приложения
│   │
│   ├── models/
│   │   ├── __init__.py
│   │   └── schemas.py                    # Pydantic модели (25 моделей)
│   │                                     # - DocumentType, DocumentBase
│   │                                     # - SearchQuery, SearchResult
│   │                                     # - QARequest, QAResponse
│   │                                     # - DocumentLink, GraphNode, Edge
│   │                                     # - KnowledgeGraph
│   │                                     # - ConsistencyCheckResult и др.
│   │
│   ├── database/
│   │   ├── __init__.py
│   │   └── vector_db.py                  # Работа с Chroma БД
│   │                                     # - Добавление/обновление/удаление
│   │                                     # - Поиск по embedding
│   │                                     # - Управление метаданными
│   │
│   ├── services/
│   │   ├── __init__.py
│   │   ├── embeddings_service.py         # Sber Embeddings интеграция
│   │   │                                 # - Текст → embedding
│   │   │                                 # - Batch processing
│   │   │
│   │   ├── document_service.py           # CRUD операции документов
│   │   │                                 # - Create/Read/Update/Delete
│   │   │                                 # - Поиск документов
│   │   │                                 # - Статистика
│   │   │
│   │   ├── rag_service.py                # RAG pipeline
│   │   │                                 # - Вопрос-ответ (Q&A)
│   │   │                                 # - Retrieval контекста
│   │   │                                 # - История беседы
│   │   │                                 # - Проверка консистентности
│   │   │
│   │   └── graph_service.py              # Управление графом знаний
│   │                                     # - Узлы и ребра
│   │                                     # - Поиск связей
│   │                                     # - Выявление противоречий
│   │                                     # - Анализ графа
│   │
│   ├── routers/
│   │   ├── __init__.py
│   │   ├── documents.py                  # API endpoints /documents
│   │   │                                 # - CRUD операции
│   │   │                                 # - Статистика
│   │   │
│   │   ├── search.py                     # API endpoints /search
│   │   │                                 # - Семантический поиск
│   │   │                                 # - Q&A
│   │   │                                 # - История беседы
│   │   │
│   │   └── graph.py                      # API endpoints /graph
│   │                                     # - Управление графом
│   │                                     # - Анализ связей
│   │                                     # - Проверка консистентности
│   │
│   └── utils/
│       └── __init__.py
│
├── data/
│   ├── SAMPLE_DOCUMENTS.md               # Примеры документов
│   └── chroma_db/                        # Chroma БД (создается автоматически)
│       ├── embeddings/
│       └── metadatas/


═══════════════════════════════════════════════════════════════════════
📊 СТАТИСТИКА ПРОЕКТА
═══════════════════════════════════════════════════════════════════════

Количество файлов: 50+
Строк кода (основной код): ~2500+
Строк документации: ~1000+

Основные компоненты:
  ✓ 25+ Pydantic моделей
  ✓ 4 Service слоя
  ✓ 3 API Router'а
  ✓ 1 Vectore DB интеграция
  ✓ 1 Graph DB интеграция
  ✓ Полная документация API
  ✓ Примеры использования
  ✓ Юнит-тесты
  ✓ Docker поддержка


═══════════════════════════════════════════════════════════════════════
🚀 БЫСТРЫЙ СТАРТ
═══════════════════════════════════════════════════════════════════════

1. Установка:
   pip install -r requirements.txt

2. Конфигурация:
   copy .env.example .env
   # Отредактируйте .env и добавьте SBER_API_KEY

3. Запуск (Windows):
   run.bat
   
   Запуск (Linux/macOS):
   bash run.sh
   
   Запуск (Docker):
   docker-compose up -d

4. Открыть документацию:
   http://localhost:8000/docs

5. Инициализировать БД:
   python init_db.py

6. Запустить примеры:
   python examples.py


═══════════════════════════════════════════════════════════════════════
📋 API ENDPOINTS
═══════════════════════════════════════════════════════════════════════

HEALTH & INFO
  GET  /health                              - Проверка здоровья
  GET  /api/v1/info                         - Информация о приложении

DOCUMENTS
  POST   /api/v1/documents                  - Создать документ
  GET    /api/v1/documents                  - Список документов
  GET    /api/v1/documents/{doc_id}         - Получить документ
  PUT    /api/v1/documents/{doc_id}         - Обновить документ
  DELETE /api/v1/documents/{doc_id}         - Удалить документ
  GET    /api/v1/documents/stats/overview   - Статистика

SEARCH & Q&A
  POST /api/v1/search/semantic              - Семантический поиск
  POST /api/v1/search/qa                    - Вопрос-ответ
  GET  /api/v1/search/history/{session_id}  - История беседы

GRAPH & CONSISTENCY
  GET    /api/v1/graph                           - Граф знаний
  POST   /api/v1/graph/links                     - Добавить связь
  DELETE /api/v1/graph/links/{src}/{tgt}        - Удалить связь
  GET    /api/v1/graph/related/{doc_id}         - Связанные документы
  GET    /api/v1/graph/contradictions           - Противоречия
  GET    /api/v1/graph/statistics               - Статистика графа
  POST   /api/v1/graph/consistency/{doc_id}     - Проверка


═══════════════════════════════════════════════════════════════════════
🏗️  АРХИТЕКТУРА РЕШЕНИЯ
═══════════════════════════════════════════════════════════════════════

Слои архитектуры:
  1. API Layer (FastAPI Routers)
     ↓
  2. Service Layer (Business Logic)
     ├── DocumentService
     ├── RAGService
     ├── GraphService
     └── EmbeddingsService
     ↓
  3. Data Layer
     ├── VectorDatabase (Chroma)
     ├── GraphDatabase (NetworkX in-memory)
     └── Embeddings (Sber API)

Тип архитектуры: RAG (Retrieval-Augmented Generation)
  1. Retrieval: Поиск релевантных документов
  2. Augmentation: Подготовка контекста
  3. Generation: Генерация ответа (ready for LLM)


═══════════════════════════════════════════════════════════════════════
🔧 ТЕХНОЛОГИЧЕСКИЙ СТЕК
═══════════════════════════════════════════════════════════════════════

Backend Framework:
  • FastAPI - современный веб-фреймворк
  • Uvicorn - ASGI сервер
  • Pydantic - валидация данных

Machine Learning:
  • Chroma - векторная БД для embeddings
  • NetworkX - граф знаний
  • Sber Embeddings - преобразование текста

Data Processing:
  • NumPy - числовые операции
  • Scikit-learn - ML утилиты
  • AsyncIO/httpx - асинхронная работа

DevOps:
  • Docker - контейнеризация
  • Python 3.11+ - язык программирования


═══════════════════════════════════════════════════════════════════════
📚 КЛЮЧЕВЫЕ ОСОБЕННОСТИ
═══════════════════════════════════════════════════════════════════════

✅ MVP функционал:
   • Семантический поиск по смыслу
   • Q&A с цитированием источников
   • Граф связей между документами
   • Проверка актуальности и противоречий

🎯 Специально для авиации:
   • Поддержка ГОСТ и ESKD стандартов
   • Типы документов (ESKD, ESTD, ремонт, сертификаты и т.д.)
   • Статусы документов (active, deprecated и т.д.)
   • Версионирование документов

🔐 Готово к масштабированию:
   • Асинхронная обработка
   • Batch embeddings
   • Модульная архитектура
   • Легко интегрируется с LLM

📖 Полная документация:
   • README.md - основное руководство
   • DEPLOYMENT.md - развертывание
   • ARCHITECTURE.md - архитектура
   • Swagger UI - интерактивная документация
   • ReDoc - красивая документация


═══════════════════════════════════════════════════════════════════════
💡 ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ
═══════════════════════════════════════════════════════════════════════

1. Создание документа:
   POST /api/v1/documents
   {
     "title": "Чертеж крыла МС-21",
     "content": "...",
     "document_type": "eskd",
     "doc_number": "МС-21-WG-001",
     "version": "3.2"
   }

2. Семантический поиск:
   POST /api/v1/search/semantic
   {
     "query": "Требования к материалам для крыла",
     "top_k": 5
   }

3. Q&A:
   POST /api/v1/search/qa
   {
     "question": "Как выполнить техническое обслуживание?",
     "top_k_context": 5
   }

4. Добавить связь между документами:
   POST /api/v1/graph/links
   {
     "source_doc_id": "doc1",
     "target_doc_id": "doc2",
     "link_type": "references",
     "confidence": 0.95
   }


═══════════════════════════════════════════════════════════════════════
🎓 ОБУЧЕНИЕ И РАЗВИТИЕ
═══════════════════════════════════════════════════════════════════════

Текущий уровень: MVP (Minimum Viable Product)

Планы развития:

Фаза 1: Интеграция с реальным LLM
  • OpenAI API интеграция
  • GigaChat интеграция
  • YandexGPT интеграция
  • Локальный Llama поддержка

Фаза 2: Мультимодальность
  • Анализ чертежей (CV)
  • Извлечение таблиц
  • OCR для сканов
  • Видео ассистент

Фаза 3: Интеграция и Продакшен
  • Web UI (React)
  • Голосовой интерфейс
  • Мобильное приложение
  • Enterprise готовность


═══════════════════════════════════════════════════════════════════════
❓ FAQ
═══════════════════════════════════════════════════════════════════════

Q: Как добавить Sber API ключ?
A: Создайте .env файл и добавьте: SBER_API_KEY=your_key_here

Q: Как запустить с Docker?
A: docker-compose up -d

Q: Где хранятся документы?
A: В Chroma БД в папке data/chroma_db

Q: Как очистить БД?
A: rm -rf data/chroma_db && перезапустить приложение

Q: Можно ли использовать другой LLM?
A: Да, отредактируйте RAGService для интеграции с вашим LLM


═══════════════════════════════════════════════════════════════════════
📞 КОНТАКТЫ И ПОДДЕРЖКА
═══════════════════════════════════════════════════════════════════════

Проект: Aviation Technical Documentation Assistant
Версия: 1.0.0
Язык: Python 3.11+
Лицензия: MIT

Для вопросов и предложений обратитесь к разработчикам.
